<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="月" href="https://lunargod.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="月" href="https://lunargod.github.io/atom.xml"><link rel="alternate" type="application/json" title="月" href="https://lunargod.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="java,git,springcloud"><link rel="canonical" href="https://lunargod.github.io/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/"><title>I - O (输入-输出) 字节流 字符流 缓冲流 - Java | LunaRGFod = 月 = HelloWord</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">I - O (输入-输出) 字节流 字符流 缓冲流</h1><div class="meta"><span class="item" title="创建时间：2024-09-18 22:09:49"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2024-09-18T22:09:49+08:00">2024-09-18</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>19k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>17 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">LunaRGFod</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://pic.imgdb.cn/item/6738468dd29ded1a8c756c5b.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/673a091ad29ded1a8cd2fc3f.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/67371d29d29ded1a8c8cb8ca.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/673bf185d29ded1a8c3262db.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/673a0921d29ded1a8cd3038f.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/673a08fdd29ded1a8cd2e19b.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Java/" itemprop="item" rel="index" title="分类于 Java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://lunargod.github.io/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="月"><meta itemprop="description" content="HelloWord, 你越安静 你听到的就越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="月"></span><div class="body md" itemprop="articleBody"><p><img data-src="https://pic.imgdb.cn/item/67371d04d29ded1a8c8c8a94.jpg" alt></p><h2 id="file-类"><a class="anchor" href="#file-类">#</a> File 类</h2><h3 id="概念"><a class="anchor" href="#概念">#</a> 概念</h3><p><strong>数据流的方向：</strong> 输入流、输出流</p><p><strong>处理单位:</strong> 字节流以字节为单位进行读写，而字符流以字符为单位进行读写</p><p><strong>适用场景:</strong></p><p>字节流适用于读写二进制文件，如图片、音频等，而字符流适用于读写文本文件，如 txt、html 等</p><p><strong>读写方式：</strong></p><p>字节流一般使用 byte 数组进行读写，而字符流则使用 char 数组或 String 进行读写。在使用缓冲流时，需要先创建一个字节流或字符流的对象，然后再将其传入缓冲流的构<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>造方法中进行包装。</p><p>File 类是唯一代表磁盘文件的对象，提供了各种方法可以创建，删除，或者重命名文件，判断硬盘上某个文件是否存在，查询文件最后修改时间等</p><h3 id="创建file对象构造方法"><a class="anchor" href="#创建file对象构造方法">#</a> 创建 File 对象构造方法</h3><p>所有创建 <code>File</code> 对象的构造方法都需要传入文件路径，</p><p><strong>处理一个目录或文件并且知道该目录或文件的路径，使用方便</strong></p><p><strong>处理一个目录中的若干子目录或文件使用 2 3</strong></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_bkC67XfDyV.png"></p><p>下面分别是使用构造方法传入路径，但是一个是绝对路径也就是我们 B 盘中的 <code>123.txt</code> , 一个是相对路径，但是相对路径没懂是怎么拿的，输出也只是输出路径，并非里面的值，</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 构造方法</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;B:\\123.txt&quot;</span>); <span class="comment">// 绝对路径拿到磁盘上的文件</span></span><br><span class="line"><span class="comment">//        File f1 = new File(&quot;src\\&quot;); // 绝对路径拿到磁盘上的文件</span></span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------------------------------</span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line">B:\\<span class="number">123.</span>txt</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">注意: </span><br><span class="line"></span><br><span class="line">绝对路径传入使用的是 <span class="string">&quot;\\&quot;</span> 第一个斜杠是因为系统中目录标识为 \ ,第二个是在Java中斜杠</span><br><span class="line">代表的是特殊转义字符,所以使用斜杠前面就再加一个斜杠 就变成了两个斜杠 </span><br><span class="line">并且目录符也可以用正斜线表示 / 如 B:/<span class="number">123.</span>txt</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h3 id="使用file类的常用方法"><a class="anchor" href="#使用file类的常用方法">#</a> 使用 File 类的常用方法</h3><p>File 提供了一系列方法用于操作，内部封装的路径指向的文件或目录，比如判断文件是否存在创建删除等</p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_UfCVvyGkkD.png"></p><h4 id="创建文件"><a class="anchor" href="#创建文件">#</a> 创建文件</h4><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">// 创建文件对象给出路径和名称 1.txt 把变量给file</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;B:\\1.txt&quot;</span>);</span><br><span class="line">    <span class="comment">// exists(); 判断是否存在,存在就删除 不存在就创建而非覆盖</span></span><br><span class="line">    <span class="keyword">if</span> (file.exists())&#123;</span><br><span class="line">        file.delete();  <span class="comment">// 山茶花</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(file.createNewFile()); <span class="comment">// 创建一个空文件</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_yCNBO3R3AP.png"></p><h4 id="创建文件夹"><a class="anchor" href="#创建文件夹">#</a> 创建文件夹</h4><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 在磁盘下创建一个目录并在目录下创建文件 </span></span><br><span class="line">     <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;B:\\abd\\demo.txt&quot;</span>);</span><br><span class="line">     <span class="keyword">if</span> (!(file.getParentFile().exists()))&#123; <span class="comment">// 判断目录是否存在不为真则创建</span></span><br><span class="line">         file.getParentFile().mkdir(); <span class="comment">// mkdir() 创建文件</span></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (file.exists())&#123; <span class="comment">// 判断是否存在文件,存在删除</span></span><br><span class="line">         file.delete();</span><br><span class="line">     &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="comment">// 创建失败的异常情况</span></span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             System.out.println(file.createNewFile());</span><br><span class="line">         &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">              e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_z-3mhJSlmR.png"></p><h3 id="遍历目录下文件"><a class="anchor" href="#遍历目录下文件">#</a> 遍历目录下文件</h3><p><code>File</code> 类的 <code>list()</code> 方法用于遍历指定目录下的所有文件</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 在磁盘下创建一个目录并在目录下创建文件</span></span><br><span class="line">     <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;B:/git/Git&quot;</span>);</span><br><span class="line">     <span class="keyword">if</span> (file.isDirectory())&#123; <span class="comment">// 判断对应目录是否存在 isDirectory()方法</span></span><br><span class="line">         String[] names = file.list();</span><br><span class="line">         <span class="keyword">for</span> (String name :names)&#123;</span><br><span class="line">             System.out.println(name); <span class="comment">// 输出全部文件名</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line">bin</span><br><span class="line">cmd</span><br><span class="line">dev</span><br><span class="line">etc</span><br><span class="line">git-bash.exe</span><br><span class="line">git-cmd.exe</span><br><span class="line">LICENSE.txt</span><br><span class="line">mingw64</span><br><span class="line">ReleaseNotes.html</span><br><span class="line">tmp</span><br><span class="line">unins000.dat</span><br><span class="line">unins000.exe</span><br><span class="line">unins000.msg</span><br><span class="line">usr</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h4 id="过滤器遍历目录指定类型的文件"><a class="anchor" href="#过滤器遍历目录指定类型的文件">#</a> 过滤器遍历目录指定类型的文件</h4><p>上方是遍历指定文件所有文件的，但也可以只输出指定类型的文件，File 类中提供了一个重载的 <code>list()</code></p><p>该方法接收一个 <code>FilenameFilter</code> 类型参数 这是一个接口也被称为文件过滤器，里面定义了一个抽象方法</p><p><code>accept()</code> ** 在调用 <strong><strong><code>list()</code> </strong></strong>方法时，需要实现这个文件过滤器接口，并在其中的 抽象方法 **** <code>accept()</code> **** 中做出判断 获得指定类型的文件 **</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FilenameFilter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 在磁盘下创建一个目录并在目录下创建文件</span></span><br><span class="line">     <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\java_demo\\new\\API\\src&quot;</span>);</span><br><span class="line">     <span class="comment">// 创建文件过滤器对象</span></span><br><span class="line">        <span class="type">FilenameFilter</span> <span class="variable">fiter</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FilenameFilter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span> <span class="comment">// 实现accept对象 这也被称为文件过滤器接口</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">accept</span><span class="params">(File dir, String name)</span> &#123;</span><br><span class="line">                <span class="type">File</span> <span class="variable">currFile</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">File</span>(dir , name);</span><br><span class="line">                <span class="comment">// 如果文件名以 .java结尾则返回 ture  否则就是假</span></span><br><span class="line">                <span class="keyword">if</span> (currFile.isFile() &amp;&amp; name.endsWith(<span class="string">&quot;.java&quot;</span>))&#123;</span><br><span class="line">                    <span class="keyword">return</span>  <span class="literal">true</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// 上一步已经全部过滤完成 这部的if只是将获取到的文件名遍历打印</span></span><br><span class="line">        <span class="keyword">if</span> (file.exists())&#123; <span class="comment">// 判断 File对象相相应的目录是否存在</span></span><br><span class="line">            String[] lists = file.list(fiter); <span class="comment">// 获取过滤后的所有文件名数组</span></span><br><span class="line">            <span class="keyword">for</span> (String name : lists)&#123;</span><br><span class="line">                System.out.println(name) ; <span class="comment">// 循环遍历打出</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line">b.java</span><br><span class="line">c.java</span><br><span class="line">d.java</span><br><span class="line">e.java</span><br><span class="line">f.java</span><br><span class="line">foreach.java</span><br><span class="line">g.java</span><br><span class="line">h.java</span><br><span class="line">IDEA82.java</span><br><span class="line">IDEA83.java</span><br><span class="line">IDEA84.java</span><br><span class="line">op.java</span><br><span class="line">register.java</span><br><span class="line">RSAUtil.java</span><br><span class="line">y.java</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> (currFile.isFile() &amp;&amp; name.endsWith(<span class="string">&quot;.java&quot;</span>))&#123;</span><br><span class="line">                    <span class="keyword">return</span>  <span class="literal">true</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">currFile() 表示当前正在遍历的文件,它是一个File对象,传入两个参数</span><br><span class="line">currFile.isFile() 判断传入的文件参数是否为普通文件 isFile()是普通文件的方法,</span><br><span class="line">我们需要判断的是当前正在遍历的文件是否为普通文件,而不是一个目录或者是其他</span><br><span class="line">所以使用的是<span class="string">&quot;currFile.isFile()&quot;</span>而不是<span class="string">&quot;dir.isFile()&quot;</span>。currFile表示的才是当前遍历的文件</span><br><span class="line"></span><br><span class="line">---------------------------------------------</span><br><span class="line"></span><br><span class="line">name.endsWith(<span class="string">&quot;.java&quot;</span>)  表示文件是否以 .java结尾,这个方法出现在字符串String中</span><br><span class="line">这里为什么不是currFile().endsWith(<span class="string">&quot;.java&quot;</span>),因为currFile它是一个File对象而不是字符串</span><br><span class="line">endsWith()对象;</span><br><span class="line">                </span><br></pre></td></tr></table></figure><p></p><h4 id="遍历指定子目录下所有文件"><a class="anchor" href="#遍历指定子目录下所有文件">#</a> 遍历指定子目录下所有文件</h4><p>在一个目录下除了文件还有子目录，想得到所有的子目录需要用到 <code>File()</code> 提供的 <code>listFiles()</code> 方法</p><p>它返回一个 <code>File</code> 对象数组，对数组中的元素进行遍历时，如果元素还有子目录需要遍历则需要递归</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">// 创建代表目录的File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;B:\phpstudy_pro\WWW\webshell\AwesomeScript-master&quot;</span>);</span><br><span class="line">        <span class="comment">// 调用 方法 saber()</span></span><br><span class="line">        saber(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span>  <span class="title function_">saber</span><span class="params">(File dir)</span>&#123;</span><br><span class="line">        File[]  files = dir.listFiles(); <span class="comment">// 获得目录下所有文件的数组就是当前路径下的所有文件</span></span><br><span class="line">        <span class="keyword">for</span> (File file :files)&#123; <span class="comment">// 循环 遍历所有的子目录和文件先拿到所有再去if区别</span></span><br><span class="line">            <span class="keyword">if</span> (file.isDirectory())&#123;  <span class="comment">// 判断是否是一个目录也就是文件夹</span></span><br><span class="line">                saber(file); <span class="comment">// 如果是目录则自己调用自己 递归调用</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出文件的绝对路径</span></span><br><span class="line">            System.out.println(file.getAbsolutePath());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">----------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line">输出路径下所有的子文件</span><br><span class="line"></span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\.gitignore</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\asp\asp_eval_xxxx_script.asp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\asp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\aspx\asp.net_custom_script_for_odbc.aspx</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\aspx\asp.net_eval_script.aspx</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\aspx</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jspx_custom_script_for_mysql.jspx</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jspx_defineclass_script.jspx</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jsp_custom_script_for_mysql.jsp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jsp_custom_script_for_oracle.jsp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jsp_defineclass_script.jsp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp\jsp_defineclass_zlib_deflated_script.jsp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\jsp</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\php\php_assert_script.php</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\php\php_create_function_script.php</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\php\php_custom_script_for_mysql.php</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\php\php_eval_rsa_script.php</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\php</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\python\python2_custom_script.py</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\python</span><br><span class="line">B:\phpstudy_pro\WWW\webshell\AwesomeScript-master\README.md</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h3 id="删除文件和目录"><a class="anchor" href="#删除文件和目录">#</a> 删除文件和目录</h3><h4 id="删除文件"><a class="anchor" href="#删除文件">#</a> 删除文件</h4><p><code>File.delete()</code> 方法删除文件或者文件夹</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">// 创建代表目录的File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\前端开发\\123.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (file.exists())&#123; <span class="comment">// exists()判断是否存在</span></span><br><span class="line">            <span class="comment">// 存在立即删除</span></span><br><span class="line">            file.delete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_vgplDzGSDZ.png"></p><h4 id="删除文件夹"><a class="anchor" href="#删除文件夹">#</a> 删除文件夹</h4><p><strong>删除文件夹不能直接删除因为里面存在文件，我们需要先调用递归的方式删除文件夹里面的文件，等到这个目录文件夹为空后才能去删除掉这个文件夹</strong></p><p>删除目录是从虚拟机直接删除而不放人回收站的，文件一旦删除就无法恢复，因此在行删除操作时要格外小心</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">// 创建代表目录的File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\前端开发\\123.txt&quot;</span>);</span><br><span class="line">        saber(file); <span class="comment">// 调用删除的方法 传入上方的路径</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saber</span><span class="params">(File dir)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (dir.exists())&#123;  <span class="comment">// 判断路径是否存在</span></span><br><span class="line">            File[] files = dir.listFiles();<span class="comment">// 得到当前目录下的所有子目录和文件</span></span><br><span class="line">          <span class="keyword">for</span> (File file:files)&#123; <span class="comment">// 遍历所有的子目录和文件</span></span><br><span class="line">              <span class="keyword">if</span> (file.isDirectory())&#123;  <span class="comment">// file.isDirectory() 判断是否为一个目录</span></span><br><span class="line">                  saber(file);</span><br><span class="line">              &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="comment">// 不是文件夹目录肯定是文件 那么直接删除</span></span><br><span class="line">                  file.delete();</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// 删除完一个目录里面的所有文件后就删除这个目录</span></span><br><span class="line">            dir.delete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h2 id="字节流"><a class="anchor" href="#字节流">#</a> 字节流</h2><p>计算机中文本 图书 音频 视频所有的文件都是以二进制 (字节) 形式存在的，为字节的 输入 / 输出 <code>（I/0）</code></p><p>流提供的一系列流统称为字节流，它是程序中最常用的流，根据数据的传输方向分为字节输入流和字节输出流</p><p>JDK 提供了两个字节流的顶级父类 <code>InputStream</code> <code>OutputStream</code> ** 他们都是抽象类 **</p><blockquote><p>所有的字节输入流继承 <code>InputStream</code><br>所有的字节输出流继承 <code>OutputStream</code></p></blockquote><p>数据从 <code>InputStream</code> 输入到程序中，通过 <code>OutputStream</code> 从程序输出到目标设备从而实现数据传输</p><h3 id="inputstream-输入常用方法"><a class="anchor" href="#inputstream-输入常用方法">#</a> <strong><code>InputStream</code> </strong>** 输入常用方法 **</h3><p>前 3 个 <code>read()</code> 方法都是读取数据，</p><p>第 1 个 read (）是从输入流中逐个读入字节</p><p>第 2、3 read () 方法是将若干字节以字节数组的形式一次性读入，从而提高读数据的效率</p><p>在进行 <code>I/O</code> 操作，当前的 <code>I/O</code> 流会占用一定的内存，由于系统资源宝贵因此，在 <code>I/O</code> 操作后</p><p>应该调用 <code>close()</code> 方法关闭流从而释放当前 <code>I/O</code> 流所占的系统资源</p><table><thead><tr><th>int read()</th><th>从输入流读取一个 8 位字节，把它转换位 0-255 之间的整数 并返回这个整数</th></tr></thead><tbody><tr><td>int read (byte[] b)</td><td>从输入流读取若干字节 把他们保存到参数 b 指定的字节数组中，返回的整数表示读取字节的数目</td></tr><tr><td>int read (byte[] b, int off, int len)</td><td>从输入流读取若干字符，把他们保存到参数 b 指定的字节数组中，off 指定字节数组开始保存数据的起始下标，len 表示读取的字节数目</td></tr><tr><td>void close ()</td><td>关闭此输入流并释放与该流关联的所有系统资源</td></tr></tbody></table><h3 id="outputstream输出常用方法"><a class="anchor" href="#outputstream输出常用方法">#</a> <code>OutputStream</code> <strong>输出常用方法</strong></h3><p>前 3 个是重载的 <code>write()</code> 方法都用于向输出流写入字节，</p><p>第 1 个方法逐个写入字节</p><p>第 2、3 方法将若干个字节以字节数组的形式一次性写入，提高写数据效率</p><p><code>flush()</code> 将当前输入流缓冲区 (通常是字节数组) 中的数据强制写入目标设备，从过程称为刷新</p><p><code>close()</code> 关闭此输入流并释放与该流关联的所有系统资源</p><table><thead><tr><th>void write (int b)</th><th>向输出流写入一个字节</th></tr></thead><tbody><tr><td>void write (byte[] b)</td><td>把参数 b 指定的字节数组的所有字节写到输出流</td></tr><tr><td>void write (byte[] b, int off, int len)</td><td>将指定 byte 数组从偏移量 off 开始的 len 个字节写入输出流</td></tr><tr><td>void flush ()</td><td>刷新此输出流并强制写出所有缓冲的输出字节</td></tr><tr><td>void close ()</td><td>关闭关闭此输出流并释放与该流关联的所有系统资源</td></tr></tbody></table><p>虽然输入流输出流两个类提供了一系列与读写数据有关的方法，<strong> 但是这两个顶级父类为抽象类，是不能被实例化的</strong>，因此针对不同的功能，2 者都提供了不同的子类这些子类形成了一个体系结构</p><h3 id="fileinputstream读取文件字节"><a class="anchor" href="#fileinputstream读取文件字节">#</a> <code>FileInputStream</code> 读取文件字节</h3><p><code>InputStream()</code> 是输入流的父类， <code>FileInputStream()</code> 是它的子类，是操作文件的字节输入流 专门读取文件中的数据，由于从文件读取数据是重复的操作，因此需要通过循环语句实现数据的持续读取</p><p>首先在目录下创建文件输入对应的内容用做例子</p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_qUsKqmsFhz.png"></p><p><strong>注意:</strong></p><p>使用 <code>throws Exception</code> 表示该方法可能会抛出任何类型的异常。这是因为 <code>main</code> 方法是 Java 程序的入口点，如果程序在执行过程中出现异常，它将会被抛出并终止程序的执行。因此，使用 <code>throws Exception</code> 可以确保程序在出现异常时能够正确地终止，并将异常信息输出到控制台，以便开发人员进行调试和修复。加入了就不会提示主动添加异常</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">未处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 创建一个文件字节输出流</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            b = in.read();<span class="comment">// 变量b记住每一个字节</span></span><br><span class="line">            <span class="keyword">if</span> (b==-<span class="number">1</span>)&#123; <span class="comment">// 如果读取的字节为-1 跳出while循环</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(b); <span class="comment">// 输出b也就是逐个输出十进制字节</span></span><br><span class="line">        &#125;</span><br><span class="line">        in.close();<span class="comment">// 关闭资源</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p>这里它会自动的加上异常是因为文件不存在时控制台的报错信息会有一个潜在的问题，即如果读取过程中发生了 I/0 错误 ImputStream 就无法正常关闭，资源也无法及时释放，<strong>对于这种问题，可以使用 ty...fnally 来保证无论是否发生 IO 错误 InputStream 都能够正确关闭，万一文件路径不存在也能顺利的关闭。</strong></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">// 创建一个文件字节输入流</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace(); <span class="comment">// 如果没有这个文件则进行异常捕获打印异常信息</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 定义一个int 类型变量 记住每次读取的一个字节</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123; <span class="comment">// 恒真一直执行 达到持续的数据读取</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                b = in.read(); <span class="comment">// 逐个读取字节</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>( b == -<span class="number">1</span>)&#123; <span class="comment">//如果读取的字节为 -1 布瑞克跳出循环</span></span><br><span class="line">                  <span class="keyword">break</span>;</span><br><span class="line">              &#125;</span><br><span class="line">            System.out.println(b); <span class="comment">// 否则就是将字符逐个写出</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            in.close(); <span class="comment">// 执行完执行 关闭流释放内存</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">文本你好世界,计算机中的数据都是以字节形式存储</span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line"><span class="number">228</span></span><br><span class="line"><span class="number">189</span></span><br><span class="line"><span class="number">160</span></span><br><span class="line"><span class="number">229</span></span><br><span class="line"><span class="number">165</span></span><br><span class="line"><span class="number">189</span></span><br><span class="line"><span class="number">228</span></span><br><span class="line"><span class="number">184</span></span><br><span class="line"><span class="number">150</span></span><br><span class="line"><span class="number">231</span></span><br><span class="line"><span class="number">149</span></span><br><span class="line"><span class="number">140</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h3 id="fileoutpustream-写入文件"><a class="anchor" href="#fileoutpustream-写入文件">#</a> <code>FileOutpuStream</code> 写入文件</h3><p>所输出流的父类，同样是一个抽象类，如果使用此类必须先通过子类实例化对象， <code>FileOutpuStream</code> 是它的子类，是操作文件的字节输出流，用于将数据写入文件</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">未处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 创建一个文件字节输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;看看这个世界&quot;</span>; <span class="comment">// 写入的数据</span></span><br><span class="line">        <span class="type">byte</span>[] b = str.getBytes(); <span class="comment">// getBytes() 将字符串转换转换为字符串数组 并赋值给b</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;b.length;i++)&#123;</span><br><span class="line">            out.write(b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 关闭程序释放内存</span></span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p>通过 <code>FileOutputStream()</code> 写入文件数据，如果文件路径不存在则会自动创建一个文件写入，<strong> 如果文件已经存在了，那么写入的数据会将原有的数据替换</strong></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个文件字节输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;看看这个世界&quot;</span>; <span class="comment">// 写入的数据</span></span><br><span class="line">        <span class="type">byte</span>[] b = str.getBytes(); <span class="comment">// getBytes() 将字符串转换转换为字符串数组 并赋值给b</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;b.length;i++)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                out.write(b[i]);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 关闭程序释放内存</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_oeL53FCAGe.png"></p><h3 id="fileoutputstream追加写入"><a class="anchor" href="#fileoutputstream追加写入">#</a> <code>FileOutputStream</code> 追加写入</h3><p>希望在已存在的文件内容之后追加新的内容，使用输出流的构造函数，在内部追加一个参数 为 true 就可以</p><p><code>FileOutputStream(String fileName,boolean appled)</code></p><p>构造函数来创建文件输出流对象并把 <code>apple</code> 参数的值设置为 true;</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">未处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个文件字节输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;看看这个世界&quot;</span>; <span class="comment">// 写入的数据</span></span><br><span class="line">        <span class="type">byte</span>[] b = str.getBytes(); <span class="comment">// getBytes() 将字符串转换转换为字符串数组 并赋值给b</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;b.length;i++)&#123;</span><br><span class="line">            out.write(b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">处理异常代码</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建一个文件字节输出流</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>; <span class="comment">// 写入的数据</span></span><br><span class="line">        <span class="type">byte</span>[] b = str.getBytes(); <span class="comment">// getBytes() 将字符串转换转换为字符串数组 并赋值给b</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;b.length;i++)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                out.write(b[i]);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 关闭程序释放内存</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_BNWECGTxWY.png"></p><p>为了避免抛出异常，我们在程序中使用 <code>throws</code> 关键字将异常抛出，但是一旦遇到 <code>I/O</code> 异常，关闭资源的</p><p><code>close()</code> 方法无法执行，但是这个又必须执行，可以将关闭流的操作放到 <code>finally()</code> 代码中， <code>finally()</code></p><p>怎么样都会执行</p><h3 id="finally执行关闭资源"><a class="anchor" href="#finally执行关闭资源">#</a> <code>finally</code> 执行关闭资源</h3><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">finally</span>&#123;</span><br><span class="line">      <span class="keyword">try</span>&#123;</span><br><span class="line">          <span class="keyword">if</span>(in !=<span class="literal">null</span>)<span class="number">5</span>  <span class="comment">// 如果 in不为</span></span><br><span class="line">          in.close();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">          e.printStackTrace(); <span class="comment">// 打印异常信息</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">try</span>&#123;</span><br><span class="line">         <span class="keyword">if</span> (out !=<span class="literal">null</span>) <span class="comment">// 如果不为空则关闭输出流,</span></span><br><span class="line">         out.close();</span><br><span class="line">      &#125;<span class="keyword">catch</span> (Exception e) &#123; <span class="comment">// 为空证明异常了,那么打印这个异常</span></span><br><span class="line">         e.prinStackTrace()</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;   </span><br><span class="line"> </span><br></pre></td></tr></table></figure><p></p><h3 id="逐个字节文件复制"><a class="anchor" href="#逐个字节文件复制">#</a> 逐个字节文件复制</h3><p>程序中输入输出都是成对出现的，例如文件的复制需要输人流读取文件的内容，通过输出流将数据写入文件</p><p>如果被写入的文件不存在则是会自动创建</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 创建一个字节输入流 用于读取当前目录下的文件</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//  创建一个文件输出流,用来获得读取的文件</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\demo.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// 定义变量记住每次读取的字节</span></span><br><span class="line">        <span class="comment">// 获得当前文件系统世界</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// 逐个读取每一个字节判断是否到了文件末尾,不等于-1才会执行写入</span></span><br><span class="line">        <span class="keyword">while</span> ((len = in.read()) !=-<span class="number">1</span>)&#123; </span><br><span class="line">           out.write(len); <span class="comment">// 将读到的字节写入文件 这个while才是核心代码</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 获得文件复制结束时的系统时间</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;复制文件所消耗的时间是&quot;</span>+(b-a)+<span class="string">&quot;毫秒&quot;</span>);</span><br><span class="line">        in.close(); <span class="comment">//  关闭资源</span></span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_7KoYk77lwE.png"></p><h3 id="字节缓冲区复制文件"><a class="anchor" href="#字节缓冲区复制文件">#</a> 字节缓冲区复制文件</h3><p>通过流的方式复制文件，为了提高效率可以定义一个字节数组作为缓冲区，在复制文件时，可以一次性读取多个字节的数据，并且保持在字节数组中，然后将字节数组中的数据一次性写入文件 <strong>被写入文件不存在也会创建</strong></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 创建一个字节输入流 用于读取当前目录下的文件</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//  创建一个文件输出流,用来获得读取的文件</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\8.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取文件的字节长度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> in.available();</span><br><span class="line">        <span class="comment">// 创建一个字节数组缓冲区读写文件</span></span><br><span class="line">       <span class="comment">// byte[] buff = new byte[length]; </span></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">100</span>]; <span class="comment">// 定义一个字节数组作为缓冲区</span></span><br><span class="line">        <span class="comment">// 定义一个int类型的变量len记住读取读入缓冲区的字节数</span></span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = in.read(buff)) != -<span class="number">1</span>)&#123; <span class="comment">//read(buff)传入存储的字节数组</span></span><br><span class="line">            out.write(buff,<span class="number">0</span>,len); <span class="comment">// 从第一个字节开始 向文件写入leng个字节</span></span><br><span class="line">            System.out.println(in.read());</span><br><span class="line">        &#125;</span><br><span class="line">        in.close();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p>对于 <code>byte[]</code> 的字符数组有两种写法</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 直接传入长度不是动态</span><br><span class="line"></span><br><span class="line"><span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">100</span>]; <span class="comment">// 定义一个字节数组作为缓冲区</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> 动态传入文件的字节长度  length  把获得的动态长度传入</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> in.available();</span><br><span class="line"><span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[length]; </span><br></pre></td></tr></table></figure><p></p><h3 id="字节缓冲流"><a class="anchor" href="#字节缓冲流">#</a> 字节缓冲流</h3><p>缓冲流是对字节流和字符流的一种包装，可以提高读写效率。</p><h4 id="bufferedinputstream-输入缓冲"><a class="anchor" href="#bufferedinputstream-输入缓冲">#</a> <code>BufferedInputStream</code> 输入缓冲</h4><h4 id="bufferedoutputstrea输出缓冲"><a class="anchor" href="#bufferedoutputstrea输出缓冲">#</a> <code>BufferedOutputStrea</code> 输出缓冲</h4><p><code>I/O</code> 提供两个带缓冲的字节流 <code>BufferedInputStream</code> <code>BufferedOutputStream</code> 他们的构造方法中分别接收 <code>InputStream</code> <code>OutputStream</code> 类型的参数作为对象，也就是可以传入文件对象，在读写时提供缓冲功能</p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_jJ4fjxpFKe.png"></p><p>应用程序是通过缓冲流来完成数据的读写的，缓冲流又是通过底层的字节流和设备关联。这两个缓冲流内部都定义了一个大小为 8192 的字节数组</p><h4 id="缓冲流复制文件"><a class="anchor" href="#缓冲流复制文件">#</a> 缓冲流复制文件</h4><p>使用字节缓冲区将 <code>hello.txt</code> 文件复制到 <code>a.txt</code> 不存在就会创建，，首先将读写的数据存人定义好的字节数组；然后将字节数组的数据一次性读写到文件中，这种方式和上文的的字节流的缓冲区类似，都对数据进行了缓冲，从而有效地提高了数据的读写效率。</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">      <span class="comment">// 创建一个带缓冲区的输入流</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>));</span><br><span class="line">      <span class="comment">// 创建一个带缓冲区的输出流</span></span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\a.txt&quot;</span>));</span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// 变量记录字节</span></span><br><span class="line">        <span class="keyword">while</span> ((len = bis.read()) !=-<span class="number">1</span>)&#123; <span class="comment">// 不为-1那么就正常执行</span></span><br><span class="line">               bos.write(len); <span class="comment">// 将字节输出到bos中</span></span><br><span class="line">        &#125;</span><br><span class="line">        bis.close();</span><br><span class="line">        bos.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_piloqbw7pF.png"></p><h2 id="字符流"><a class="anchor" href="#字符流">#</a> 字符流</h2><p>字符流存在两个顶级父类 <code>Reader</code> <code>Writer</code> 前者是字符输入流 用于从某个源设备上读取字符，后者字符输出流，用于向某个设备写入字符，作为字符流顶级父类也有许多子类</p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_jsEWZ31h3w.png"></p><h3 id="filereader读取文件文本"><a class="anchor" href="#filereader读取文件文本">#</a> <code>FileReader</code> 读取文件文本</h3><p>字符输入流 <code>FileReader</code> 可以从关联的文件中读取一个或一组字符，读取文件数据打印，</p><p><code>FleReader</code> 对象返回的字符流是 <code>char</code> ，而 <code>InputStream</code> 对象返回的字符流是 <code>byte</code> 这是两者之间最大的区别</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 创建一个 FileReader 对象用于来读取文件中的字符</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// 定义变量记录读取的字符</span></span><br><span class="line">        <span class="keyword">while</span> ((len = reader.read()) !=-<span class="number">1</span>)&#123; <span class="comment">// 循环判新是否读取到文件的末尾</span></span><br><span class="line">   <span class="comment">// (char) len是将读取到的字符转换成char类型并输出因为reader.read()方法返回的是int类型</span></span><br><span class="line">   <span class="comment">//表示读取到的字符的ASCII码值需要将其强制转换成char类型才能输出对应的字符。</span></span><br><span class="line">            System.out.print((<span class="type">char</span>) len);  <span class="comment">//</span></span><br><span class="line">        &#125;</span><br><span class="line">        reader.close(); <span class="comment">// 关闭文件读取流 释放资源</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------------------------</span><br><span class="line"></span><br><span class="line">输出:</span><br><span class="line"></span><br><span class="line">看看这个世界<span class="number">123</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h3 id="filewriter将文本写入文件"><a class="anchor" href="#filewriter将文本写入文件">#</a> <code>FileWriter</code> 将文本写入文件</h3><p>它是 <code>Writer</code> 的一个子类，用于向文件中写入字符，，如果指定的文件不存在，就会先创建文件，再写入数据，如果文件存在，则会先清空文件中的内容，再进行写人 **。如果想在文件末尾追加数据，同样需要调用重载的构造方法.** 修改创建的文件对象为 <code>true</code></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建一个 FileWriter 对象用于向文件中写入数据</span></span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 追加内容 天机哎参数为true  原始代码不变</span></span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;网络安全&quot;</span>;</span><br><span class="line">        writer.write(str); <span class="comment">// 将字符数据写入到文本文件中</span></span><br><span class="line">        writer.write(<span class="string">&quot;\r\n&quot;</span>); <span class="comment">// 将输出语句换行</span></span><br><span class="line">        writer.close();<span class="comment">// 关闭写入流 释放资源</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_gpVI8xjVmC.png"></p><h3 id="字符缓冲流"><a class="anchor" href="#字符缓冲流">#</a> 字符缓冲流</h3><p>缓冲流是对字节流和字符流的一种包装，可以提高读写效率</p><h4 id="bufferedreader-输入流包装"><a class="anchor" href="#bufferedreader-输入流包装">#</a> <code>BufferedReader</code> 输入流包装</h4><h4 id="bufferedwriter-输出流包装"><a class="anchor" href="#bufferedwriter-输出流包装">#</a> <code>BufferedWriter</code> 输出流包装</h4><p>字符流提供了带缓冲区的包装流 分别是 <code>BufferedReader</code> 用于输入流包装 <code>BufferedWriter</code> 输出流包装</p><p>, 前者输入流包装有一个重要方法 <code>readLine()</code> 该方法可以读取一行文本</p><h4 id="字符缓冲流复制文件"><a class="anchor" href="#字符缓冲流复制文件">#</a> 字符缓冲流复制文件</h4><p>复制 <code>hello.txt</code> 文本的内容到 <code>9.txt</code> 不存在则创建，存在则覆盖或者是添加 <code>true</code> 追加</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// FileReader 对象向文本中读取数据</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建一个BufferedReader 输入缓冲对象</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(reader);</span><br><span class="line">        <span class="comment">//  FileWriter 对象向文件中写入数据</span></span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;K:\\9.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建一个 输出缓冲区对象</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(writer);</span><br><span class="line">        String str;</span><br><span class="line">        <span class="comment">// readLine() 每次读取一行文本 判断是否到了文件末尾</span></span><br><span class="line">        <span class="keyword">while</span> ((str = br.readLine()) !=<span class="literal">null</span>)&#123;</span><br><span class="line">            bw.write(str);</span><br><span class="line">            <span class="comment">// 写入一个换行符 该方法会根据不同的操作系统生成相应换行符</span></span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();  <span class="comment">// 关闭资源</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><strong>注意:</strong></p><p>由于字符缓冲流内部使用了缓冲区，在循环中调用 BufferedWriter 的 write () 方法字符时，这些字符首先会被写入缓冲区，当缓冲区写满时或调用 close () 方法时，缓冲区中的字符才会写人目标文件。因此在循环结束时一定要调用 close () 方法，否则极有可能会导致部分存在缓冲区中酸据没有被写人目标文件。</p><h2 id="转换流-字节流转换为字符流"><a class="anchor" href="#转换流-字节流转换为字符流">#</a> 转换流 <strong>字节流转换为字符流</strong></h2><p><code>I/O</code> 流分为字符流和字节流，有时候字节流和字符流之间也需要转换，JDK 提供两个类用于转换</p><p><code>InputStreamReader</code> <code>OutputStreamWriter</code></p><ul><li><code>InputStreamReader</code> 是 Reader 的子类它可以将一个字节输入流转换成字符输入流方便直接读取字符</li><li><code>OutputStreamWriter</code> 是 Writer 的子类它可以将一个字节输出流转换成字符输出流方便直接写人字符</li></ul><p><strong>字节流转换为字符流</strong></p><p>里面这两段代码先创建正常的字节输入输出流 <code>in</code> <code>out</code> 再通过转换为字符流的代码传入参数</p><p>再重新赋值给 <code>isr</code> <code>osw</code> 这样他就变成了新的 字符流</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(in); <span class="comment">// 传入的参数为文本字节输入</span></span><br><span class="line"><span class="type">OutputStreamWriter</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(out); <span class="comment">// 传入参数为文本字节输出</span></span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDEA84</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//  创建文件字节输入流 并指定源文件</span></span><br><span class="line">     <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;K:\\hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">     <span class="comment">//  将字节输入流转换为字符输入流</span></span><br><span class="line">     <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(in); <span class="comment">// 传入的参数为文本字节输入</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 创建字节输出流对象 并指定目标文件</span></span><br><span class="line">     <span class="type">FileOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;K:\\00.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 将字节输出流转换为字符输出流</span></span><br><span class="line">     <span class="type">OutputStreamWriter</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(out); <span class="comment">// 传入参数为文本字节输出</span></span><br><span class="line">     <span class="type">int</span> ch;  <span class="comment">// 定义变量记录读取的字符</span></span><br><span class="line">      <span class="keyword">while</span> ((ch= isr.read()) !=-<span class="number">1</span>)&#123;</span><br><span class="line">          osw.write(ch);  <span class="comment">// 将字符数据写入 des.txt 文件中</span></span><br><span class="line">      &#125;</span><br><span class="line">      isr.close(); <span class="comment">// 关闭文件读取流 释放资源</span></span><br><span class="line">      osw.close(); <span class="comment">// 关闭文件读取流 释放资源</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/image_pg-jmkykPn.png"></p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>缓冲流则是在字节流和字符流的基础上增加了缓冲区，可以减少 IO 操作的次数，提高读写效率。 <a href="#fnref1" class="footnote-backref">↩︎</a></p></li></ol></section></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-11-18 21:29:55" itemprop="dateModified" datetime="2024-11-18T21:29:55+08:00">2024-11-18</time> </span><span id="2024/09/18/输入输出/" class="item leancloud_visitors" data-flag-title="I - O (输入-输出) 字节流 字符流 缓冲流" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>月 <i class="ic i-at"><em>@</em></i>月</li><li class="link"><strong>本文链接：</strong> <a href="https://lunargod.github.io/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" title="I - O (输入-输出) 字节流 字符流 缓冲流">https://lunargod.github.io/2024/09/18/输入输出/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/08/29/%E5%9C%9F%E8%B1%86%E5%AE%B6%E6%97%8F/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;pic.imgdb.cn&#x2F;item&#x2F;6738468dd29ded1a8c756c5b.jpg" title="土豆家族提权"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 内网攻防</span><h3>土豆家族提权</h3></a></div><div class="item right"><a href="/2024/09/19/%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8%E5%88%A9%E7%94%A8/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;pic.imgdb.cn&#x2F;item&#x2F;673a9b7bd29ded1a8c291fcb.jpg" title="横向移动利用总结"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 内网攻防</span><h3>横向移动利用总结</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#file-%E7%B1%BB"><span class="toc-number">1.</span> <span class="toc-text">File 类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAfile%E5%AF%B9%E8%B1%A1%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">创建 File 对象构造方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8file%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">使用 File 类的常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.1.</span> <span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">创建文件夹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">遍历目录下文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E6%8C%87%E5%AE%9A%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">过滤器遍历目录指定类型的文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%8C%87%E5%AE%9A%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">遍历指定子目录下所有文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="toc-number">1.5.</span> <span class="toc-text">删除文件和目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.1.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">1.5.2.</span> <span class="toc-text">删除文件夹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">2.</span> <span class="toc-text">字节流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#inputstream-%E8%BE%93%E5%85%A5%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">InputStream ** 输入常用方法 **</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#outputstream%E8%BE%93%E5%87%BA%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">OutputStream 输出常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fileinputstream%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82"><span class="toc-number">2.3.</span> <span class="toc-text">FileInputStream 读取文件字节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fileoutpustream-%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.</span> <span class="toc-text">FileOutpuStream 写入文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fileoutputstream%E8%BF%BD%E5%8A%A0%E5%86%99%E5%85%A5"><span class="toc-number">2.5.</span> <span class="toc-text">FileOutputStream 追加写入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#finally%E6%89%A7%E8%A1%8C%E5%85%B3%E9%97%AD%E8%B5%84%E6%BA%90"><span class="toc-number">2.6.</span> <span class="toc-text">finally 执行关闭资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%90%E4%B8%AA%E5%AD%97%E8%8A%82%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6"><span class="toc-number">2.7.</span> <span class="toc-text">逐个字节文件复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%BC%93%E5%86%B2%E5%8C%BA%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">2.8.</span> <span class="toc-text">字节缓冲区复制文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">2.9.</span> <span class="toc-text">字节缓冲流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bufferedinputstream-%E8%BE%93%E5%85%A5%E7%BC%93%E5%86%B2"><span class="toc-number">2.9.1.</span> <span class="toc-text">BufferedInputStream 输入缓冲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bufferedoutputstrea%E8%BE%93%E5%87%BA%E7%BC%93%E5%86%B2"><span class="toc-number">2.9.2.</span> <span class="toc-text">BufferedOutputStrea 输出缓冲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">2.9.3.</span> <span class="toc-text">缓冲流复制文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-number">3.</span> <span class="toc-text">字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#filereader%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E6%96%87%E6%9C%AC"><span class="toc-number">3.1.</span> <span class="toc-text">FileReader 读取文件文本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filewriter%E5%B0%86%E6%96%87%E6%9C%AC%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">FileWriter 将文本写入文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">3.3.</span> <span class="toc-text">字符缓冲流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bufferedreader-%E8%BE%93%E5%85%A5%E6%B5%81%E5%8C%85%E8%A3%85"><span class="toc-number">3.3.1.</span> <span class="toc-text">BufferedReader 输入流包装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bufferedwriter-%E8%BE%93%E5%87%BA%E6%B5%81%E5%8C%85%E8%A3%85"><span class="toc-number">3.3.2.</span> <span class="toc-text">BufferedWriter 输出流包装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.3.</span> <span class="toc-text">字符缓冲流复制文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81-%E5%AD%97%E8%8A%82%E6%B5%81%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-number">4.</span> <span class="toc-text">转换流 字节流转换为字符流</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2023/03/31/%E5%8F%8D%E5%B0%84/" rel="bookmark" title="Java--反射机制">Java--反射机制</a></li><li><a href="/2023/05/01/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="Java--反序列化">Java--反序列化</a></li><li><a href="/2023/05/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="Java--多线程">Java--多线程</a></li><li><a href="/2024/02/13/Java%E5%9F%BA%E7%A1%80/" rel="bookmark" title="Java前置基础">Java前置基础</a></li><li><a href="/2024/04/01/%E5%B0%81%E8%A3%85%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81/" rel="bookmark" title="面向对象-封装继承多态">面向对象-封装继承多态</a></li><li><a href="/2024/04/12/%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81%E6%8A%BD%E8%B1%A1/" rel="bookmark" title="继承 super 抽象 接口 多态">继承 super 抽象 接口 多态</a></li><li><a href="/2024/04/30/Object%E5%86%85%E9%83%A8%E7%B1%BB%E5%BC%82%E5%B8%B8/" rel="bookmark" title="Objbect  内部类异常">Objbect 内部类异常</a></li><li><a href="/2024/05/03/%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%8C%85%E8%A3%85%E7%B1%BB/" rel="bookmark" title="日期时间类 包装类">日期时间类 包装类</a></li><li><a href="/2024/05/10/Collection%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88ListSet/" rel="bookmark" title="Collection单列集合ListSet">Collection单列集合ListSet</a></li><li><a href="/2024/05/10/Map%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88%E6%A0%B9%E6%8E%A5%E5%8F%A3HashMap_TreeMap/" rel="bookmark" title="Map双列集合根接口HashMap_TreeMap">Map双列集合根接口HashMap_TreeMap</a></li><li><a href="/2024/05/13/%E6%B3%9B%E5%9E%8BLambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="bookmark" title="泛型 Lambda 表达式">泛型 Lambda 表达式</a></li><li><a href="/2024/05/14/Jdbc%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="bookmark" title="Jdbc数据库">Jdbc数据库</a></li><li><a href="/2024/05/21/String%E5%AD%97%E7%AC%A6%E4%B8%B2Random%E6%95%B0%E5%AD%97%E8%BF%90%E7%AE%97/" rel="bookmark" title="String字符串 Random数字运算">String字符串 Random数字运算</a></li><li><a href="/2024/06/30/JSP%E8%AF%AD%E6%B3%95/" rel="bookmark" title="JSP语法">JSP语法</a></li><li><a href="/2024/07/10/JavaBean/" rel="bookmark" title="JavaBean">JavaBean</a></li><li><a href="/2024/07/20/MyBatis%E9%85%8D%E7%BD%AE/" rel="bookmark" title="MyBatis配置">MyBatis配置</a></li><li><a href="/2024/08/20/JavaServlet/" rel="bookmark" title="JavaServlet">JavaServlet</a></li><li class="active"><a href="/2024/09/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" rel="bookmark" title="I - O (输入-输出) 字节流 字符流 缓冲流">I - O (输入-输出) 字节流 字符流 缓冲流</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="月" data-src="/images/avatar.jpg"><p class="name" itemprop="name">月</p><div class="description" itemprop="description">你越安静 你听到的就越多</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">39</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0x1bmFSR29k" title="https:&#x2F;&#x2F;github.com&#x2F;LunaRGod"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly94LmNvbS95dWVzZTEwMjkxMDQ1Mw==" title="https:&#x2F;&#x2F;x.com&#x2F;yuese102910453"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9mZW5nLWppYW4tNDgtNjc=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;feng-jian-48-67"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTE2NjY5MDk3ODQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1666909784"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnNhYmVyMGRheUBxcS5jb20=" title="mailto:saber0day@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/08/29/%E5%9C%9F%E8%B1%86%E5%AE%B6%E6%97%8F/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/09/19/%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8%E5%88%A9%E7%94%A8/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E6%B8%97%E9%80%8F%E9%9D%B6%E5%9C%BAWP/" title="分类于 渗透靶场WP">渗透靶场WP</a></div><span><a href="/2024/07/01/DC/" title="DC-1靶场">DC-1靶场</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/04/30/Object%E5%86%85%E9%83%A8%E7%B1%BB%E5%BC%82%E5%B8%B8/" title="Objbect  内部类异常">Objbect 内部类异常</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2023/05/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="Java--多线程">Java--多线程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%86%85%E7%BD%91%E9%9A%A7%E9%81%93%E4%BB%A3%E7%90%86/" title="分类于 内网隧道代理">内网隧道代理</a></div><span><a href="/2024/05/01/%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF/" title="隧道技术&amp; DNS&#x2F;SSH Linux反向上线">隧道技术& DNS/SSH Linux反向上线</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/04/12/%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81%E6%8A%BD%E8%B1%A1/" title="继承 super 抽象 接口 多态">继承 super 抽象 接口 多态</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/02/13/Java%E5%9F%BA%E7%A1%80/" title="Java前置基础">Java前置基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%86%85%E7%BD%91%E6%94%BB%E9%98%B2/" title="分类于 内网攻防">内网攻防</a></div><span><a href="/2024/08/29/%E5%9C%9F%E8%B1%86%E5%AE%B6%E6%97%8F/" title="土豆家族提权">土豆家族提权</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E9%81%90%E6%83%B3and%E7%A2%8E%E7%A2%8E%E5%BF%B5/" title="分类于 遐想and碎碎念">遐想and碎碎念</a></div><span><a href="/2024/11/18/%E8%BD%A8%E8%BF%B9/" title="轨迹">轨迹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" title="分类于 漏洞复现">漏洞复现</a></div><span><a href="/2023/03/29/Strust2/" title="S2-001 RCE">S2-001 RCE</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/05/10/Map%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88%E6%A0%B9%E6%8E%A5%E5%8F%A3HashMap_TreeMap/" title="Map双列集合根接口HashMap_TreeMap">Map双列集合根接口HashMap_TreeMap</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">月 @ LunaRGFod</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">325k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">4:56</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/09/18/输入输出/",favicon:{show:"Monthlblog",hide:"Monthlyblog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>