<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="月" href="https://lunargod.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="月" href="https://lunargod.github.io/atom.xml"><link rel="alternate" type="application/json" title="月" href="https://lunargod.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="java,git,springcloud"><link rel="canonical" href="https://lunargod.github.io/2024/08/20/JavaServlet/"><title>JavaServlet - Java | LunaRGFod = 月 = HelloWord</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">JavaServlet</h1><div class="meta"><span class="item" title="创建时间：2024-08-20 22:09:49"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2024-08-20T22:09:49+08:00">2024-08-20</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>24k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>22 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">LunaRGFod</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://pic.imgdb.cn/item/6742ef6288c538a9b5bb523f.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/673845eed29ded1a8c74e1a6.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/674072f1d29ded1a8cf5cee2.jpg"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/67371d29d29ded1a8c8cb8ca.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/6742ef5388c538a9b5bb523a.png"></li><li class="item" data-background-image="https://pic.imgdb.cn/item/67384d01d29ded1a8c7b4dab.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/Java/" itemprop="item" rel="index" title="分类于 Java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://lunargod.github.io/2024/08/20/JavaServlet/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="月"><meta itemprop="description" content="HelloWord, 你越安静 你听到的就越多"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="月"></span><div class="body md" itemprop="articleBody"><p><img data-src="https://pic.imgdb.cn/item/673845eed29ded1a8c74e1a6.jpg" alt></p><h1 id="概念"><a class="anchor" href="#概念">#</a> 概念</h1><h2 id="介绍servlet"><a class="anchor" href="#介绍servlet">#</a> 介绍 <code>Servlet</code></h2><p><code>Servlet</code> 是基于 Java 语言的 Web 编程技术，部署在后端的 Web 容器里，获取前端访问请求，并根据请求升响应信息返回到客户端</p><p><img data-src="/2024/08/20/JavaServlet/image_69lo2LSpFb.png"></p><h3 id="servlet类"><a class="anchor" href="#servlet类">#</a> <code>Servlet</code> 类</h3><p>平台独立的 Java 类，编写一个实际上就是按照 <code>Servlet</code> 规范写一个 Java 类， <code>Servlet</code> 被编译为平台独立字节码，可以动态加载到支持 Java 技术的后端服务器中运行，</p><p><strong>它不可以独立运行，必须部署到</strong> ** <code>Servlet</code> **<strong> 容器中</strong>，由容器来实例化和调用 <code>Servlet</code> 容器在 <code>Servlet</code> 的生命周期内包容和管理 <code>Servlet</code></p><h3 id="servlet容器servlet引擎"><a class="anchor" href="#servlet容器servlet引擎">#</a> <code>Servlet</code> 容器 ( <code>Servlet</code> 引擎)</h3><p>Web 服务器或应用程序服务器的一部分，用于在发送的请求和响应之上提供网络服务，解码基于 <code>MIME</code> 请求，格式化基于 <code>MlME</code> 响应</p><h3 id="功能"><a class="anchor" href="#功能">#</a> 功能</h3><p></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 读取客户端发送到服务器的显式数据 (表单数据)</span><br><span class="line">2. 读取客户端发送服务端的隐式数据   (请求报头)</span><br><span class="line">3. 服务器端发送显式的数据到客户端 (HTML)</span><br><span class="line">4. 服务器发送隐式的数据到客户端 (状态代码和响应报头)</span><br></pre></td></tr></table></figure><p></p><h2 id="生命周期"><a class="anchor" href="#生命周期">#</a> 生命周期</h2><p>一个 Servlet 的生命周期由部署该 <code>Servlet</code> 的 Web 容器负责，容器还提供请求分发 安全 并发控制等服务，</p><p>当特定的请求被容器映射到某个 <code>Servlet</code> , 容器就会做出以下操作</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 若该Servlet实例尚未创建,那么容器就加载该Servlet的 .class文件 ,然后创建该.class的一个实例</span><br><span class="line">   并调用这个实例的init()方法来初始化该实例</span><br><span class="line">   </span><br><span class="line"><span class="number">2.</span> 调用初始化化好的该实例的Service()方法,传入Request和Responnse对象 JSP知识</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 最后如果不再需要该Servlet,容器会调用该Servlet的destroy()方法销毁该实例</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> Servlet生命周期从Web应用服务器开始运行时开始,以后会不断处理来自浏览器的访问请求,并将</span><br><span class="line">   响应结果通过Wbe应用服务器返回给客户端,直到Web服务器停止运行,Servlet才会被清除</span><br></pre></td></tr></table></figure><p></p><p><code>javax.servlet.Servlet</code> 接口中，定义了针对 Servlet 生命周期重要 3 个方法。</p><h3 id="init方法"><a class="anchor" href="#init方法">#</a> <code>init()</code> 方法</h3><p><code>HttpServlet</code> 类中的方法，可以在 Servlet 类中重写这个方法，<strong> 它只能被调用一次，即在</strong> ** <code>Servlet</code> **</p><p><strong>第一次被请求加载时调用方法</strong></p><p><strong>声明格式</strong></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> Servletexception</span><br></pre></td></tr></table></figure><p></p><p>当 Servlet 对象第一个被请求加载，服务器会创建一个 Servlet 对象，这个对象会调用 <code>init()</code> 方法完成必要的初始化工作，这个方法执行时，服务器会把一个 <code>ServletConfig</code> 类型的对象传递给 <code>init()</code> 方法，<strong> 也就是形参中的数据类型，</strong> 传过来的对象保存在 Servlet 对象中，直到 Servlet 对象被销毁。</p><p><code>ServletConfig</code> 对象负责向 Servlet 传递服务设置信息，如果传递失败就会发生，ServletExceptionx,Servlet</p><p>对象就不能正常工作，</p><h3 id="service-方法"><a class="anchor" href="#service-方法">#</a> <strong><code>service()</code> </strong>方法</h3><p><code>HttpServlet</code> 类中的方法，可以在 Servlet 类中直接继承该方法或重写这个方法</p><p><strong>声明格式</strong></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest request, HttpServletRespone respose)</span></span><br><span class="line"><span class="keyword">throw</span> ServletException,IOException</span><br></pre></td></tr></table></figure><p></p><p>当 Servlet 对象成功创建和初始化后，该对象就调用 <code>service()</code> 方法来处理用户的请求并返回响应，服务器将两个参数传递给该方法，</p><ol><li><code>HttpServletRequest</code> 类型的对象，该对象封装了用户的请求信息</li><li><code>HttpServletRespone</code> 类型对象，响应用户的请求</li></ol><p>后续的客户请求该 <code>servlet</code> 对象服务，服务器将启动一个新的线程，在该线程中， <code>Servlet</code> 对象调用 <code>servie()</code> 响应客户前端的请求，；每个客户请求都导致 <code>service</code> 方法被调用执行，运行在不同的线程中，所以</p><blockquote><p>不同线程的 <code>servlce</code> 方法中的局部变量互不干扰，一个线程改变了自己的 <code>servlce</code> 方法中的局部便利店值，不会影响其他线程的 <code>servlce</code> 方法中的局部变量</p></blockquote><h3 id="init-or-service区别"><a class="anchor" href="#init-or-service区别">#</a> <code>init()</code> or <code>service</code> 区别</h3><p><code>init()</code> 方法只能被调用一次，而 <code>service()</code> 可以被多次调用，</p><h3 id="destroy方法"><a class="anchor" href="#destroy方法">#</a> <code>destroy()</code> 方法</h3><p>服务器关闭或 <code>Web</code> 应用被移除容器时， <code>Servlet</code> 随着 Web 应用销毁而销毁，销毁前容器会调用 <code>Servlet</code> 的 <code>destroy()</code> 方法，已便 <code>Servlet</code> 对象释放资源，在生命周期中它也只会被调用一次</p><h2 id="特点"><a class="anchor" href="#特点">#</a> 特点</h2><p><code>Servlet</code> 程序在服务器端运行，动态生成 Web 页面，具有更高的效率 更好的移植性</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 高效: 服务器上仅有一个Java虚拟机运行,它的优势在于多个来自客户端的请求进行访问,Servlet为</span><br><span class="line">         每个请求分配一个线程而不是进程</span><br><span class="line">         </span><br><span class="line"><span class="number">2.</span> 方便: Servlet提供了大量实用工具,如处理很难完成的HTML表单数据,读取和设置HTTP头,处理cookie会话</span><br><span class="line"> </span><br><span class="line"><span class="number">3.</span> 共享数据: Servlet之间通过共享数据可以很容易实现数据库连接池,它能方便地实现管理用户请求,简化</span><br><span class="line">            session和获取前一页面信息操作,而在CGI之间通信则很差          </span><br></pre></td></tr></table></figure><p></p><h1 id="编写servlet类"><a class="anchor" href="#编写servlet类">#</a> 编写 <code>Servlet</code> 类</h1><p>创建一个 <code>Servlet</code> 对象的类就是编写一个特殊的子类，特殊类就是 <code>javax.servlet.http</code> 包中的 <code>HttpServlet</code> 类，它实现了 <code>Servlet</code> 接口，实现响应用户的方法， <code>HttpServlet</code> 类的子类被习惯地称为一个 <code>HttpServlet</code> 类，这样的类创建的对象习惯地称为一个 <code>Servlet</code> 对象</p><p>最常用的创建 <code>Servlet</code> 就是继承 <code>HttpServlet</code> 因为它提供了处理 HTTP 请求的特定方法，如 doGet ()、 <code>doPost()</code> 、 <code>doHead()</code> 等。</p><h2 id="httpservlet类的常用方法"><a class="anchor" href="#httpservlet类的常用方法">#</a> <code>HttpServlet</code> 类的常用方法</h2><table><thead><tr><th>方法声明</th><th>功能描述</th></tr></thead><tbody><tr><td>`protected void doGel</td></tr></tbody></table><p>(HttpServletRequest req,<br>HttpServletResponse resp) <code>| 处理GET类型的HTTP请求方法 | |</code> protected void doPost<br>(HttpServletRequest req,<br>HttpServletResponse resp)` | 处理 POST 类型的 HTTP 请求方法 |</p><p><code>Get</code> 方法得到的每一个内容都需要进行编码转换，转换在 <code>request</code> 请求中，需要 <code>Tomcat</code> 编码设置，而 <code>POST</code> 方法只要设置 <code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code> 就可以</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET: 服务端使用 Request.QueryString获取变量的值</span><br><span class="line"></span><br><span class="line">POST: 服务端用Request.From获取提交的数据</span><br></pre></td></tr></table></figure><p></p><h2 id="servletrequest接口方法"><a class="anchor" href="#servletrequest接口方法">#</a> <code>ServletRequest</code> 接口方法</h2><p>Servlet 接口的 service (ServletRequest request, ServletRespone respose) 方法存在 <code>ServletRequest</code> 类型参数，表示来自客户端的原始请求数据，</p><p>容器接收到客户端要求访问特定 <code>Servlet</code> 请求时，容器先解析客户端的原始请求数据，把它包装成一个 <code>ServletRequest</code> 对象，当容器调用了 <code>Servlet()</code> 方法，就可以把 <code>ServletRequest</code> 对象作为参数传给 <code>service()</code> 方法</p><p><img data-src="/2024/08/20/JavaServlet/image_ayuOmJTePT.png"></p><h3 id="httpservletrequest接口方法"><a class="anchor" href="#httpservletrequest接口方法">#</a> <code>HttpServletRequest</code> 接口方法</h3><p><code>HttpServletRequest</code> 接口是 <code>ServletRequest</code> 接口的子接口，</p><p><code>HttpServlet</code> 类的重载 <code>service()</code> 方法及 <code>doGet()</code> 和 <code>doPost()</code> 等方法都有一个 HttpServletRequest 类型的参数如:</p><p></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected <span class="keyword">void</span> <span class="title function_">service</span>(<span class="title class_">HttpServletRequest</span> req,<span class="title class_">HttpServletRequest</span> req, </span><br><span class="line"><span class="title class_">HttpServletResponse</span> resp) throws <span class="title class_">ServletException</span>,<span class="title class_">IOException</span>&#123;......&#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><code>HttpServletRequest</code> 接口提供了用于读取 HTTP 请求中相关信息的方法 下图是方法</p><p><img data-src="/2024/08/20/JavaServlet/image_ELybFaiaUJ.png"></p><h2 id="servletresponse接口方法"><a class="anchor" href="#servletresponse接口方法">#</a> <code>ServletResponse</code> 接口方法</h2><p>Servlet 接口的 service (ServletRequest request, ServletRespone respose) 方法存在 <code>ServletResponse</code> 类型参数，通过它来生成响应结果，当 <code>Servlet</code> 容器接收到客户端要求访问 <code>Servlet</code> 的请求时，容器就会创建一个 ServletResponse 对象，并把它作为参数传给 Servlet 的 Service () 方法</p><p><img data-src="/2024/08/20/JavaServlet/image_NBkogbBsUH.png"></p><p><img data-src="/2024/08/20/JavaServlet/image_fiLsAG_pj_.png"></p><h3 id="httpservletresponse-接口方法"><a class="anchor" href="#httpservletresponse-接口方法">#</a> <code>HttpServletResponse</code> 接口方法</h3><p><code>HttpServletResponse</code> 接口是 <code>ServletResponse</code> 的子接口，HttpServlet 类的重载 service () 方法及 doGet () 和 doPost () 方法都有一个 HttpServletResponse 类型的参数</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp</span></span><br><span class="line"><span class="params"><span class="keyword">throws</span> ServletException, IOException&#123;.....&#125;)</span></span><br></pre></td></tr></table></figure><p></p><p>接口提供了和 HTTP 协议相关的方法， <code>Servlet</code> 可通过这些方法来设置 HTTP 响应头或向客户端写 <code>Cookie</code></p><p><img data-src="/2024/08/20/JavaServlet/image_TegjoXniwg.png"></p><p><img data-src="/2024/08/20/JavaServlet/image_qYPMlUEf3i.png"></p><p><strong>注意:</strong></p><p>ServletResponse 响应正文的默认 MIME 类型为 <code>text/plain</code> , 即纯文本类型，但是 <code>HttpServletResponse</code></p><p>响应正文的默认类型是 <code>text/html</code> 即 HTML 文档类型</p><h2 id="建立servlet类"><a class="anchor" href="#建立servlet类">#</a> 建立<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzU2MzkyODYzL2FydGljbGUvZGV0YWlscy8xMjY5NzcwODc="> Servlet</span> 类</h2><p><code>servlet03:war exploded</code> 工件决定了 8080 端口后面跟随的路径，如果它为空那么路径也是为空</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"><span class="comment">// 方法在 Servlet 初始化时被调用。在这个例子中，我们只是调用了父类的 init() 方法，没有做其他操作。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="built_in">super</span>.init(config);<span class="comment">// 使用super调用父类重写的方法</span></span><br><span class="line">  <span class="comment">// init() 方法是 HttpServlet 类中的一个生命周期方法，它在 Servlet 初始化时被调用</span></span><br><span class="line">  <span class="comment">// 这里只是重写了这个方法      </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line"><span class="comment">// 方法用于处理 HTTP 请求并生成响应。在这个例子中，我们设置了响应的内容类型为 &quot;text/html;charset=utf-8&quot;，然后通过 PrintWriter 对象生成一个简单的 HTML 页面作为响应。    </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>); <span class="comment">// 响应内容</span></span><br><span class="line"><span class="comment">// 获取了一个 PrintWriter 对象，用于向响应输出流写入数据。通过使用 PrintWriter 对象</span></span><br><span class="line"><span class="comment">// 我们可以将文本、HTML 或其他数据写入响应，从而生成需要返回给客户端的内容。        </span></span><br><span class="line">        PrintWriter out=response.getWriter();</span><br><span class="line">        out.println(<span class="string">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;第一个Servlet类&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p>web.xml</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;web-app xmlns=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="line">         xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="line">         version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-<span class="keyword">class</span>&gt;ServletTest&lt;/servlet-<span class="keyword">class</span>&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/saber&lt;/url-pattern&gt; &lt;!--路径 对应上下文--&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure><p></p><h1 id="wbexml注册映射"><a class="anchor" href="#wbexml注册映射">#</a> <code>wbe.xml</code> 注册映射</h1><p><strong>注册</strong></p><p>在 <code>web.xml</code> 文件中， <code>&lt;servlet&gt;</code> 元素用于注册 <code>Servlet</code> , 包含两个主要的子元素</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;   <span class="comment">// 设置Servlet注册名称</span></span><br><span class="line">&lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt; <span class="comment">// 指定Servlet完整类名包括包名</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><strong>映射</strong></p><p><code>&lt;servlet-mapping&gt;</code> 元素映射已经注册的 Servlet 的对外访问路径，客户端浏览器可以使用映射路径访问 Servlet 类，它包含两个元素</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;  <span class="comment">// 注册名称同上</span></span><br><span class="line">&lt;url-pattern&gt;/saber&lt;/url-pattern&gt; <span class="comment">// 访问路径  路径对应上下文设置的类</span></span><br></pre></td></tr></table></figure><p></p><h2 id="多重映射"><a class="anchor" href="#多重映射">#</a> 多重映射</h2><p>多重映射是指同一个 Servlet 可以被映射成多个虚拟路径，即客户端浏览器可以通过多个路径访问同一个 <code>Servlet</code> , 存在两个方法</p><ul><li>配置多个 <code>&lt;servlet-mapping&gt;</code> 标签对路径进行映射</li></ul><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">      &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">      &lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt;</span><br><span class="line">  &lt;/servlet&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">      &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">      &lt;url-pattern&gt;/saber&lt;/url-pattern&gt; </span><br><span class="line">  &lt;/servlet-mapping&gt;</span><br><span class="line">  </span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">      &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">      &lt;url-pattern&gt;/kali&lt;/url-pattern&gt; <span class="comment">// 不同的路径</span></span><br><span class="line">  &lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure><p></p><ul><li>在 <code>&lt;servlet-mapping&gt;</code> 标签中加入多个 <code>&lt;url-pattern&gt;</code> 标签</li></ul><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;servlet&gt;</span><br><span class="line">      &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">      &lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt;</span><br><span class="line">  &lt;/servlet&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;servlet-mapping&gt;</span><br><span class="line">      &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">      &lt;url-pattern&gt;/saber&lt;/url-pattern&gt;</span><br><span class="line">      &lt;url-pattern&gt;/kali&lt;/url-pattern  <span class="comment">// 不同的路径</span></span><br><span class="line">      &lt;url-pattern&gt;/saaa&lt;/url-pattern</span><br><span class="line">  &lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id="通配符映射路径"><a class="anchor" href="#通配符映射路径">#</a> 通配符映射路径</h2><p>有时候希望某个目录下的所有路径都可以访问一个 <code>Servlet</code> , 就可以映射路径中使用通配符，属于路径匹配</p><p>通配符 &quot;*&quot; 为后缀， <code>/servlet/a /servlet/b /servlet/c</code> 都会与之匹配</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;url-pattern&gt;/servlet/*&lt;/url-pattern&gt;  路径/servlet后面的路径都将被匹配</span><br></pre></td></tr></table></figure><p></p><p>通配符 &quot;*&quot; 前缀，扩展名匹配， <code>/a/saber /b/saber</code> / 都将匹配</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;url-pattern&gt;*.saber&lt;/url-pattern&gt;</span><br></pre></td></tr></table></figure><p></p><p>完全匹配，通配符 &quot;*&quot; 匹配全部路径</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id="servletconfig映射传参"><a class="anchor" href="#servletconfig映射传参">#</a> <code>ServletConfig</code> 映射传参</h2><p>类的配置文件中可以使用一个或者多个 <code>&lt;init-pararn&gt;</code> 标签为 <code>servlet</code> 配置一些初始化参数，那么容器初始化实例都会这个 Servlet 准备一个唯一的 <code>ServletConfig</code> 实例，容器会从部署的描述文件中读出该 <code>Servlet</code> 的初始化参数，并设置到这个实例中，再把实例传递给 Servlet 的 <code>init()</code> 方法，进而可以通过 <code>ServletConfig</code> 对象得到当前初始化参数信息</p><p></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private ServletConfig config = null;  // 创建私有变量</span><br></pre></td></tr></table></figure><p></p><p>重写 <code>init()</code> 方法传入 config, 使其 <code>this.config=config</code> 获取 ServletConfig 对象，最后可以通过这个 <code>ServletConfig</code> 接口中 <code>getInitParameter(Stringname)</code> 方法来获取指定名称的初始化参数的字符串值</p><p>web.xml</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;web-app xmlns=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="line">         xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="line">         version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;init-param&gt;</span><br><span class="line">            &lt;param-name&gt;age&lt;/param-name&gt;       <span class="comment">// 传递信息的名称</span></span><br><span class="line">            &lt;param-value&gt;<span class="number">18</span>&lt;/param-value&gt;  <span class="comment">// 传递的值是18 依靠上面定义的标签</span></span><br><span class="line">        &lt;/init-param&gt;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/saber&lt;/url-pattern&gt; &lt;!--路径 对应上下文--&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">   <span class="comment">// 设置私有变量类型是对象,是init()方法中的对象类型的函数</span></span><br><span class="line">    <span class="keyword">private</span>   ServletConfig   config; </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="built_in">super</span>.init(config);</span><br><span class="line">        <span class="built_in">this</span>.config=config;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 接收传递而来的值</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">age</span> <span class="operator">=</span> <span class="built_in">this</span>.config.getInitParameter(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        PrintWriter out=response.getWriter();</span><br><span class="line">        out.println(<span class="string">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;第一个Servlet类&quot;</span>);</span><br><span class="line">        <span class="comment">// 输出 传递而来的值</span></span><br><span class="line">        out.println(<span class="string">&quot;这个年龄age等于:&quot;</span>+age+<span class="string">&quot;这就是一个参数传递的过程&quot;</span>); </span><br><span class="line">        out.println(<span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><code>Servlet</code> 的初始化参数只是针对当前这个 Servlet 类有效在本 Servlet 类中只能获取自身的初始化参数，无法获取其他 Servlet 类的初始化参数。</p><p><img data-src="/2024/08/20/JavaServlet/image_mkWt2OwuJz.png"></p><h2 id="servletcontext多个传参"><a class="anchor" href="#servletcontext多个传参">#</a> <code>ServletContext</code> 多个传参</h2><p>多个 <code>Servlet</code> 获取相同的初始化参数，可以把参数配置设置成 Web 应用上下文初始参数</p><hr><p>容器部署好之后会为每个应用程序都创建一个 <code>ServletContext</code> 实例，通过该实例可以获取到所有的 Web 应用上下文初始化参数的值，它被认为是对于 Web 应用程序的一个整体性存储区域，每一个 Web 应用程序都只有一个它，存储在里面的对象会一直保留直到它被删除</p><p><code>ServletContext</code> 对象获取 2 种方法</p><ul><li><code>ServletConfig.getServletContext0</code> 方法获得对 <code>ServletContext</code> 对象的引用</li><li><code>this.getServletContext0</code> 方法获得对象的引用</li></ul><p>web.xml</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;web-app xmlns=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="line">         xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="line">         version=<span class="string">&quot;4.0&quot;</span>&gt;</span><br><span class="line">    &lt;servlet&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt;</span><br><span class="line">    &lt;/servlet&gt;</span><br><span class="line">    &lt;servlet-mapping&gt;</span><br><span class="line">        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;/saber&lt;/url-pattern&gt; &lt;!--路径 对应上下文--&gt;</span><br><span class="line">    &lt;/servlet-mapping&gt;</span><br><span class="line"></span><br><span class="line">    &lt;context-param&gt;</span><br><span class="line">        &lt;param-name&gt;url&lt;/param-name&gt;  <span class="comment">// 名称</span></span><br><span class="line">        &lt;param-value&gt;哈哈哈哈&lt;/param-value&gt;  <span class="comment">//值</span></span><br><span class="line">    &lt;/context-param&gt;</span><br><span class="line"></span><br><span class="line">    &lt;context-param&gt;</span><br><span class="line">        &lt;param-name&gt;user&lt;/param-name&gt;  <span class="comment">// 名称</span></span><br><span class="line">        &lt;param-value&gt;root&lt;/param-value&gt; <span class="comment">// 值</span></span><br><span class="line">    &lt;/context-param&gt;</span><br><span class="line">&lt;/web-app&gt;</span><br></pre></td></tr></table></figure><p></p><p>SerletTest.java</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ServletConfig  config;  <span class="comment">// 设置值调用</span></span><br><span class="line">    <span class="keyword">private</span> ServletContext context;  <span class="comment">// 接收的值 类型也是是context</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="built_in">super</span>.init(config);</span><br><span class="line">        <span class="built_in">this</span>.config =config; <span class="comment">// 构造函数的参数 a 的值赋给类的成员变量 a</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        context = <span class="built_in">this</span>.config.getServletContext(); <span class="comment">// 拿到这个对象</span></span><br><span class="line">        <span class="type">String</span>  <span class="variable">url</span> <span class="operator">=</span> <span class="built_in">this</span>.context.getInitParameter(<span class="string">&quot;url&quot;</span>);  <span class="comment">// 上文名称url</span></span><br><span class="line">        <span class="type">String</span>  <span class="variable">user</span> <span class="operator">=</span> <span class="built_in">this</span>.context.getInitParameter(<span class="string">&quot;user&quot;</span>); <span class="comment">// // 上文名称 user</span></span><br><span class="line"></span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        PrintWriter out=response.getWriter();</span><br><span class="line">        out.println(<span class="string">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>);</span><br><span class="line">        <span class="comment">// 输出值</span></span><br><span class="line">        out.println(<span class="string">&quot;一切的一切不过是是在传递参数而已,设置的链接是&quot;</span>+url+<span class="string">&quot;用户是&quot;</span>+user);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/08/20/JavaServlet/image_wcB7Cmv5JT.png"></p><p>Web 应用中的所有的 <code>Servlet</code> 共享同一个 <code>ServletContext</code> 对象，可以利用这个对象实现通信，设置如下语言实现数据共享</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext(); <span class="comment">// servletcontext域对象</span></span><br><span class="line">context.setAttribute(<span class="string">&quot;data&quot;</span>,<span class="string">&quot;共享数据&quot;</span>); <span class="comment">// 向域内存了一个data属性</span></span><br></pre></td></tr></table></figure><p></p><p>另外一个 servlet 中，使用下面代码实现获取域中 <code>data</code> 属性</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line"><span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> (String)context.getAttribute(<span class="string">&quot;data&quot;</span>); <span class="comment">// 获取域中的data属性 value保存</span></span><br><span class="line"></span><br><span class="line">system.out.printin(value); <span class="comment">// 输出数据</span></span><br></pre></td></tr></table></figure><p></p><h2 id="表单servlet提交数据"><a class="anchor" href="#表单servlet提交数据">#</a> 表单 <code>Servlet</code> 提交数据</h2><p><code>Servlet</code> 调用 <code>HttpServletRequest</code> 中的 <code>getParameter</code> 方法，调用参数提供表单变量的名字即可，</p><ul><li>如果指定表单存在变量名称但是没有值则会返回空字符串，</li><li>变量不存在则会返回 <code>null</code></li><li>表单变量可能对应多个值，使用 <code>getParameterValues</code> 取代 <code>getParameter</code> , 它会返回一个字符串数组</li></ul><p><code>HttpServletRequest</code> 的 <code>getParameterNames</code> 方法可以实现获取完整的表单变量名列表，它返回的是</p><p><code>Enumeration</code> 其中的每一项都可以被转换为调用 <code>getParameter</code> 的字符串</p><hr><p>正常的 <code>HTML</code> 代码都是前端标签属性，所有前端的代码怎么写其实都可以，但是跳转就必须要进行解析， <code>saber</code> 路径是 <code>web.xml</code> 映射而来，Java 代码是已经解析了的，解析传递而来的数据，处理逻辑，但是 <code>Java</code> 的页面还是使用 <code>out.println</code> 打印而来</p><p>index.JSP</p><p></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>用户注册<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;saber&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span>  <span class="comment">&lt;!--saber路径为ServletTest.java 映射导致这样--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">&quot;40%&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#0099ff&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>用户注册<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>用户名：<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>密码：<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;userPwd&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userPwd&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>电子邮箱：<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>性别：<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userSex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userMale&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span>&gt;</span>男</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userSex&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userFemale&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span>&gt;</span>女</span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span>教育程序：<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;userEducation&quot;</span> <span class="attr">id</span>=<span class="string">&quot;userEducation&quot;</span> &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;研究生&quot;</span>&gt;</span>研究生<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;本科&quot;</span>&gt;</span>本科<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;专科&quot;</span>&gt;</span>专科<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;高中&quot;</span>&gt;</span>高中<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#FFFFFF&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Snbmit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">name</span>=<span class="string">&quot;Reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;重置&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>web.xml 处理映射跳转</p><p></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/saber<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> <span class="comment">&lt;!--路径 对应上下文--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>代码为书本代码，貌似比正常的简洁，缺少了 <code>init()</code> 方法这样处理不了映射传递的数据，但是又可以正常的接收前端 <code>JSP</code> 页面传递而来的数据</p><p>ServletTest.Java</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">/<span class="keyword">import</span> javax.servlet.ServletConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">       </span><br><span class="line">       <span class="comment">// 内置对象response处理传递而来的数据,在JSP代码中有体现</span></span><br><span class="line">         </span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>); <span class="comment">// 设置响应类型为HTML 字符编码为utf-8</span></span><br><span class="line">        request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>); <span class="comment">// 设置了请求的字符编码为 &quot;utf-8&quot;</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userName&quot;</span>);  <span class="comment">// JSP代码通过内置对象拿到参数</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userPwd</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userPwd&quot;</span>); <span class="comment">//密码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;email&quot;</span>); <span class="comment">//邮箱</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userSex</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userSex&quot;</span>); <span class="comment">// 性别</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userEducation</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;userEducation&quot;</span>); <span class="comment">// 教育</span></span><br><span class="line">     <span class="comment">// 向客户端发送响应的语句。它创建了一个 PrintWriter 对象，该对象可以用于向客户端发送文本响应。   </span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">      <span class="comment">// 正常打印HTML  </span></span><br><span class="line">        out.println(<span class="string">&quot;&lt;HTML&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;  &lt;HEAD&gt;&lt;TITLE&gt;用户注册结果 &lt;/TITLE&gt;&lt;/HEAD&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;  &lt;BODY&gt;&lt;br/&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;h3 align=\&quot;center\&quot;&gt;用户注册结果&lt;/h3&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;table table width=\&quot;40%\&quot; border=\&quot;0\&quot; align=\&quot;center\&quot; bgcolor=\&quot;#0099ff\&quot;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr  bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;th&gt;参数&lt;/th&gt;&lt;th&gt;参数值&lt;/th&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        <span class="comment">// username userPwd 对应从上传传递而来的值</span></span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;td&gt;userName&lt;/td&gt;&lt;td&gt;&quot;</span> + userName + <span class="string">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;td&gt;userPwd&lt;/td&gt;&lt;td&gt;&quot;</span> + userPwd + <span class="string">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;td&gt;email&lt;/td&gt;&lt;td&gt;&quot;</span> + email + <span class="string">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;td&gt;userSex&lt;/td&gt;&lt;td&gt;&quot;</span> + userSex + <span class="string">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;tr bgcolor=\&quot;#FFFFFF\&quot;&gt;&lt;td&gt;userEducation&lt;/td&gt;&lt;td&gt;&quot;</span> + userEducation + <span class="string">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/table&gt;&lt;/BODY&gt;&quot;</span>);</span><br><span class="line">        out.println(<span class="string">&quot;&lt;/HTML&gt;&quot;</span>);</span><br><span class="line">  <span class="comment">// out.flush() 方法用于刷新输出流，将缓冲区中的数据立即输出到目标设备中 </span></span><br><span class="line">        out.flush();</span><br><span class="line">   <span class="comment">// out.close(); 关闭输出流，并释放与之关联的资源     </span></span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><a href="video/QQ2023124-105050-HD_cVqKe4XEMj.mp4">QQ2023124-105050-HD.mp4</a></p><p><img data-src="/2024/08/20/JavaServlet/image_cA4wyKg5hB.png"></p><h1 id="servlet输出数据库"><a class="anchor" href="#servlet输出数据库">#</a> <code>Servlet</code> 输出数据库</h1><h2 id="0x01-jdbcproperti配置数据库"><a class="anchor" href="#0x01-jdbcproperti配置数据库">#</a> 0X01 <code>jdbc.properti</code> 配置数据库</h2><p><code>jdbc.properties</code> 文件是一个常见的配置文件，用于配置 Java 程序中使用的 JDBC（Java Database Connectivity）连接属性，在 WEB-INF—classes 目录下新建，输入我们的路径</p><p>本地主机 <code>localhost</code> 数据库名 用户 密码</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url = jdbc:mysql:<span class="comment">//localhost/</span></span><br><span class="line">dbName = <span class="type">test1</span></span><br><span class="line"><span class="variable">userName</span> <span class="operator">=</span> <span class="type">root</span></span><br><span class="line"><span class="variable">userPasswd</span> <span class="operator">=</span> <span class="number">000000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/08/20/JavaServlet/image_AEyQIn-1HX.png"></p><h2 id="0x02-servlet类处理逻辑"><a class="anchor" href="#0x02-servlet类处理逻辑">#</a> 0X02 <code>Servlet</code> 类处理逻辑</h2><p>写入页面输出逻辑，连接配置文件中的数据库密码用户</p><p>ServletTest.Java</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext; <span class="comment">// 获取 Web 应用程序的上下文信息，例如应用程序的名称、路径、初始化参数等。</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException; <span class="comment">//处理 Servlet 中的异常情况。</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet; <span class="comment">// 于定义 Servlet 的注解，可以替代传统的在 web.xml 文件中配置 Servlet 的方式。</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet; <span class="comment">// 实现 HTTP 协议的 Servlet 功能，例如处理 HTTP 请求和响应等。</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest; <span class="comment">//  获取 HTTP 请求的信息 ，例如请求的 URL、参数、头信息等。</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse; <span class="comment">// 生成 HTTP 响应的信息，例如设置响应的状态码、头信息、内容等。</span></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;   <span class="comment">// 处理输入输出操作中可能发生的异常情况</span></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;    <span class="comment">// 读取输入流中的数据</span></span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;  <span class="comment">// 向输出流中写入数据</span></span><br><span class="line"><span class="keyword">import</span> java.sql.*; <span class="comment">//：用于实现 JDBC 数据库连接功能，包括连接数据库、执行 SQL 语句、处理结果集等。</span></span><br><span class="line"><span class="keyword">import</span> java.util.Properties; <span class="comment">// 读取和处理配置文件，例如 jdbc.properties 文件中的数据库连接属性。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">      <span class="comment">// 获取当前 Servlet 的上下文对象。</span></span><br><span class="line">      <span class="comment">// this 表示当前 Servlet 对象，getServletContext() 是 HttpServlet 类中定义的一个方法，用于获取当前 Servlet 的上下文对象。 </span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext(); </span><br><span class="line">     <span class="comment">// 从 Web 应用程序的资源路径中获取一个输入流,可以获取到指定路径资源的输入流，并将其赋值给 stream 变量。  </span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">stream</span> <span class="operator">=</span> context.getResourceAsStream(<span class="string">&quot;/WEB-INF/classes/jdbc.properties&quot;</span>);</span><br><span class="line">    <span class="comment">// 用于处理属性文件。属性文件通常是一种键值对的文件格式，用于存储应用程序的配置信息。    </span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">      <span class="comment">// 处理传递而来的属性文件,里面包含了数据库连接必要的对象  </span></span><br><span class="line">        properties.load(stream);</span><br><span class="line">        <span class="comment">// 获取 数据库名 用户 密码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">dbName</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;dbName&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;userName&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">userPasswd</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;userPasswd&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        url = url + dbName + <span class="string">&quot;?user=&quot;</span> + userName + <span class="string">&quot;&amp;password=&quot;</span> + userPasswd;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">            <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager.getConnection(url);</span><br><span class="line">            <span class="type">Statement</span> <span class="variable">statement</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from xsb &quot;</span>;</span><br><span class="line">            <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> statement.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">            out.println(<span class="string">&quot;&lt;table border=1&gt;&quot;</span>);</span><br><span class="line">            out.println(<span class="string">&quot;&lt;th colspan=4 style=&#x27; font-size: x-large; alignment: center&#x27;&gt; 学生信息表&lt;/th&gt;&quot;</span>);</span><br><span class="line">            out.println(<span class="string">&quot; &lt;tr style=&#x27; text-align: center&#x27;&gt;&quot;</span>);</span><br><span class="line">            out.println(<span class="string">&quot; &lt;td&gt;学号&lt;/td&gt;    &lt;td&gt;姓名&lt;/td&gt;    &lt;td&gt;出生日期&lt;/td&gt;   &lt;td&gt;所在班级&lt;/td&gt;  &lt;/tr&gt;&quot;</span>);</span><br><span class="line">             <span class="comment">// 循环输出 </span></span><br><span class="line">            <span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">                out.println(<span class="string">&quot; &lt;tr style=&#x27;text-align: center&#x27;&gt;&quot;</span>);</span><br><span class="line">                out.println(<span class="string">&quot; &lt;td&gt;&quot;</span> + rs.getString(<span class="number">1</span>) + <span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.println(<span class="string">&quot; &lt;td&gt;&quot;</span> + rs.getString(<span class="number">2</span>) + <span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.println(<span class="string">&quot; &lt;td&gt;&quot;</span> + rs.getString(<span class="number">3</span>) + <span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.println(<span class="string">&quot; &lt;td&gt;&quot;</span> + rs.getString(<span class="number">4</span>) + <span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.println(<span class="string">&quot; &lt;/tr&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            out.println(<span class="string">&quot;&lt;/table&gt;&lt;/body&gt;&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 刷新输出流，将缓冲区中的数据立即输出到目标设备中</span></span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="0x03-配置类运行路由"><a class="anchor" href="#0x03-配置类运行路由">#</a> 0X03 配置类运行路由</h2><p>运行前首先需要配置类的路径，我们有两个方法，web.xml 方法在前文已经阐述，这里介绍第二种注解方法，使用前需要导入注解类</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet; </span><br><span class="line"><span class="comment">// 于定义 Servlet 的注解，可以替代传统的在 web.xml 文件中配置 Servlet 的方式</span></span><br></pre></td></tr></table></figure><p></p><ul><li><code>web.xml</code> 配置路由</li><li><code>webServlet</code> 注解使用 (简洁)</li></ul><p>使用前首先观察 <code>web.xml</code> 配置是否满足版本要求和属性为 false, 如若没有 <code>metadata-complete</code> 自行加上</p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">metadata-complete=<span class="string">&quot;false&quot;</span>  <span class="comment">//false是指使用注解式</span></span><br><span class="line">metadata-complete=<span class="string">&quot;true&quot;</span>  <span class="comment">//true是指使用配置式</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><p><img data-src="/2024/08/20/JavaServlet/image_w9FfUdsSHU.png"></p><p>配置式就是普通的注册映射方法，添加对应的类设置对应的路由名称实现，</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletTest<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/saber<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span> <span class="comment">&lt;!--路径 对应上下文--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>注解式在 <code>Servlet</code> 类上方添加对应的路径即可，区别是前者没有双引号，后者则需要，使用这个这个注解后就可以不用在写再去 web.xml 中部署了 servlet 了，使用这个注解就相当于替换了它</p><p><img data-src="/2024/08/20/JavaServlet/image_b5F1mq_hjZ.png"></p><p></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/saber&quot;)</span>  <span class="comment">// 注解式</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br></pre></td></tr></table></figure><p></p><h2 id="0x04-注解式运行servlet类"><a class="anchor" href="#0x04-注解式运行servlet类">#</a> 0X04 注解式运行 <code>Servlet</code> 类</h2><p>这里不使用配置式设置路径，使用注解式，所以代码注释掉，是、注解式和配置式只能存在一个</p><p>web.xml</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span> <span class="attr">metadata-complete</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-class&gt;ServletTest&lt;/servlet-class&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;servlet-name&gt;ServletTest&lt;/servlet-name&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;/saber&lt;/url-pattern&gt; &amp;lt;!&amp;ndash;路径 对应上下文&amp;ndash;&amp;gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/servlet-mapping&gt;--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>代码只是在类的上方添加注解式代码配置了路径，其余没有改动</p><p>ServletTest.Java</p><p><img data-src="/2024/08/20/JavaServlet/image_WveQh0uGaW.png"></p><p>按照步骤配置 <code>Tomcat</code> 首次运行的路径，如果不做设置默认第一次会运行 index.JSP 文件，只需要在这里添加我们设置的 <code>Servlet</code> 类注解式的路由即可，配置完成运行</p><p><img data-src="/2024/08/20/JavaServlet/image_7HnT93eNMh.png"></p><p>成功输出数据库数据！ 12:10 下课吃饭！</p><p><a href="video/QQ2023124-12108-HD_0JbcZUHjho.mp4">QQ2023124-12108-HD.mp4</a></p></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-11-20 21:22:21" itemprop="dateModified" datetime="2024-11-20T21:22:21+08:00">2024-11-20</time> </span><span id="2024/08/20/JavaServlet/" class="item leancloud_visitors" data-flag-title="JavaServlet" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>月 <i class="ic i-at"><em>@</em></i>月</li><li class="link"><strong>本文链接：</strong> <a href="https://lunargod.github.io/2024/08/20/JavaServlet/" title="JavaServlet">https://lunargod.github.io/2024/08/20/JavaServlet/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/08/01/IPC/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;pic.imgdb.cn&#x2F;item&#x2F;67407292d29ded1a8cf57548.jpg" title="远程登录IPC"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 内网攻防</span><h3>远程登录IPC</h3></a></div><div class="item right"><a href="/2024/08/29/%E5%9C%9F%E8%B1%86%E5%AE%B6%E6%97%8F/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;pic.imgdb.cn&#x2F;item&#x2F;673a0924d29ded1a8cd3074d.jpg" title="土豆家族提权"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 内网攻防</span><h3>土豆家族提权</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8Dservlet"><span class="toc-number">1.1.</span> <span class="toc-text">介绍 Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#servlet%E7%B1%BB"><span class="toc-number">1.1.1.</span> <span class="toc-text">Servlet 类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#servlet%E5%AE%B9%E5%99%A8servlet%E5%BC%95%E6%93%8E"><span class="toc-number">1.1.2.</span> <span class="toc-text">Servlet 容器 ( Servlet 引擎)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD"><span class="toc-number">1.1.3.</span> <span class="toc-text">功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.2.</span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#init%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.1.</span> <span class="toc-text">init() 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#service-%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.2.</span> <span class="toc-text">service() 方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#init-or-service%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.3.</span> <span class="toc-text">init() or service 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#destroy%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.4.</span> <span class="toc-text">destroy() 方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.</span> <span class="toc-text">特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BC%96%E5%86%99servlet%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">编写 Servlet 类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#httpservlet%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.</span> <span class="toc-text">HttpServlet 类的常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#servletrequest%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">ServletRequest 接口方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#httpservletrequest%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">HttpServletRequest 接口方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#servletresponse%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">ServletResponse 接口方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#httpservletresponse-%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">HttpServletResponse 接口方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8Bservlet%E7%B1%BB"><span class="toc-number">2.4.</span> <span class="toc-text">建立 Servlet 类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wbexml%E6%B3%A8%E5%86%8C%E6%98%A0%E5%B0%84"><span class="toc-number">3.</span> <span class="toc-text">wbe.xml 注册映射</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E6%98%A0%E5%B0%84"><span class="toc-number">3.1.</span> <span class="toc-text">多重映射</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"><span class="toc-number">3.2.</span> <span class="toc-text">通配符映射路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#servletconfig%E6%98%A0%E5%B0%84%E4%BC%A0%E5%8F%82"><span class="toc-number">3.3.</span> <span class="toc-text">ServletConfig 映射传参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#servletcontext%E5%A4%9A%E4%B8%AA%E4%BC%A0%E5%8F%82"><span class="toc-number">3.4.</span> <span class="toc-text">ServletContext 多个传参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95servlet%E6%8F%90%E4%BA%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">3.5.</span> <span class="toc-text">表单 Servlet 提交数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#servlet%E8%BE%93%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.</span> <span class="toc-text">Servlet 输出数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-jdbcproperti%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">4.1.</span> <span class="toc-text">0X01 jdbc.properti 配置数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-servlet%E7%B1%BB%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91"><span class="toc-number">4.2.</span> <span class="toc-text">0X02 Servlet 类处理逻辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-%E9%85%8D%E7%BD%AE%E7%B1%BB%E8%BF%90%E8%A1%8C%E8%B7%AF%E7%94%B1"><span class="toc-number">4.3.</span> <span class="toc-text">0X03 配置类运行路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x04-%E6%B3%A8%E8%A7%A3%E5%BC%8F%E8%BF%90%E8%A1%8Cservlet%E7%B1%BB"><span class="toc-number">4.4.</span> <span class="toc-text">0X04 注解式运行 Servlet 类</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/2023/02/13/Java%E5%9F%BA%E7%A1%80/" rel="bookmark" title="Java前置基础">Java前置基础</a></li><li><a href="/2023/03/31/%E5%8F%8D%E5%B0%84/" rel="bookmark" title="Java--反射机制">Java--反射机制</a></li><li><a href="/2023/05/01/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" rel="bookmark" title="Java--反序列化">Java--反序列化</a></li><li><a href="/2023/05/01/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" rel="bookmark" title="Java--多线程">Java--多线程</a></li><li><a href="/2024/01/18/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" rel="bookmark" title="I - O (输入-输出) 字节流 字符流 缓冲流">I - O (输入-输出) 字节流 字符流 缓冲流</a></li><li><a href="/2024/04/01/%E5%B0%81%E8%A3%85%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81/" rel="bookmark" title="面向对象-封装继承多态">面向对象-封装继承多态</a></li><li><a href="/2024/04/12/%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81%E6%8A%BD%E8%B1%A1/" rel="bookmark" title="继承 super 抽象 接口 多态">继承 super 抽象 接口 多态</a></li><li><a href="/2024/04/30/Object%E5%86%85%E9%83%A8%E7%B1%BB%E5%BC%82%E5%B8%B8/" rel="bookmark" title="Objbect  内部类异常">Objbect 内部类异常</a></li><li><a href="/2024/05/03/%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%8C%85%E8%A3%85%E7%B1%BB/" rel="bookmark" title="日期时间类 包装类">日期时间类 包装类</a></li><li><a href="/2024/05/10/Collection%E5%8D%95%E5%88%97%E9%9B%86%E5%90%88ListSet/" rel="bookmark" title="Collection单列集合ListSet">Collection单列集合ListSet</a></li><li><a href="/2024/05/10/Map%E5%8F%8C%E5%88%97%E9%9B%86%E5%90%88%E6%A0%B9%E6%8E%A5%E5%8F%A3HashMap_TreeMap/" rel="bookmark" title="Map双列集合根接口HashMap_TreeMap">Map双列集合根接口HashMap_TreeMap</a></li><li><a href="/2024/05/13/%E6%B3%9B%E5%9E%8BLambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="bookmark" title="泛型 Lambda 表达式">泛型 Lambda 表达式</a></li><li><a href="/2024/05/14/Jdbc%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="bookmark" title="Jdbc数据库">Jdbc数据库</a></li><li><a href="/2024/05/21/String%E5%AD%97%E7%AC%A6%E4%B8%B2Random%E6%95%B0%E5%AD%97%E8%BF%90%E7%AE%97/" rel="bookmark" title="String字符串 Random数字运算">String字符串 Random数字运算</a></li><li><a href="/2024/06/30/JSP%E8%AF%AD%E6%B3%95/" rel="bookmark" title="JSP语法">JSP语法</a></li><li><a href="/2024/07/10/JavaBean/" rel="bookmark" title="JavaBean">JavaBean</a></li><li><a href="/2024/07/20/MyBatis%E9%85%8D%E7%BD%AE/" rel="bookmark" title="MyBatis配置">MyBatis配置</a></li><li class="active"><a href="/2024/08/20/JavaServlet/" rel="bookmark" title="JavaServlet">JavaServlet</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="月" data-src="/images/avatar.jpg"><p class="name" itemprop="name">月</p><div class="description" itemprop="description">你越安静 你听到的就越多</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">46</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0x1bmFSR29k" title="https:&#x2F;&#x2F;github.com&#x2F;LunaRGod"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly94LmNvbS95dWVzZTEwMjkxMDQ1Mw==" title="https:&#x2F;&#x2F;x.com&#x2F;yuese102910453"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9mZW5nLWppYW4tNDgtNjc=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;feng-jian-48-67"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTE2NjY5MDk3ODQ=" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;1666909784"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnNhYmVyMGRheUBxcS5jb20=" title="mailto:saber0day@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/08/01/IPC/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/08/29/%E5%9C%9F%E8%B1%86%E5%AE%B6%E6%97%8F/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/05/14/Jdbc%E6%95%B0%E6%8D%AE%E5%BA%93/" title="Jdbc数据库">Jdbc数据库</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E9%81%90%E6%83%B3and%E7%A2%8E%E7%A2%8E%E5%BF%B5/" title="分类于 遐想and碎碎念">遐想and碎碎念</a></div><span><a href="/2024/11/18/%E8%BD%A8%E8%BF%B9/" title="轨迹">轨迹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/04/30/Object%E5%86%85%E9%83%A8%E7%B1%BB%E5%BC%82%E5%B8%B8/" title="Objbect  内部类异常">Objbect 内部类异常</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" title="分类于 漏洞复现">漏洞复现</a></div><span><a href="/2023/03/29/Strust2/" title="S2-001 RCE">S2-001 RCE</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%86%85%E7%BD%91%E6%94%BB%E9%98%B2/" title="分类于 内网攻防">内网攻防</a></div><span><a href="/2024/08/01/IPC/" title="远程登录IPC">远程登录IPC</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" title="分类于 网络安全">网络安全</a></div><span><a href="/2024/02/19/%E5%8A%A0%E8%A7%A3%E5%AF%86/" title="加解密算法逆向密文">加解密算法逆向密文</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" title="分类于 漏洞复现">漏洞复现</a></div><span><a href="/2024/07/01/Redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE/" title="Redis未授权访问+工具复现">Redis未授权访问+工具复现</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%86%85%E7%BD%91%E6%94%BB%E9%98%B2/" title="分类于 内网攻防">内网攻防</a></div><span><a href="/2024/07/09/WMISMB/" title="WMI SMB  密码喷洒">WMI SMB 密码喷洒</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/" title="分类于 漏洞复现">漏洞复现</a></div><span><a href="/2023/01/29/ApacheShiro%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" title="Apache  Shiro 反序列化">Apache Shiro 反序列化</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/Java/" title="分类于 Java">Java</a></div><span><a href="/2024/08/20/JavaServlet/" title="JavaServlet">JavaServlet</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">月 @ LunaRGFod</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">350k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">5:18</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/08/20/JavaServlet/",favicon:{show:"Monthlblog",hide:"Monthlyblog"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>